<div class="user-profile-wrapper container">
  <ol class="breadcrumb mt-3">
    <li class="breadcrumb-item curPoint"><a [routerLink]="['/home']">Home</a></li>
    <li class="breadcrumb-item active">Edit Profile</li>
  </ol>
  <div class="d-flex sec-title pb-0">
    <div class="f-color col">
      <h5>Profile Details</h5>
    </div>
    <div class="f-color d-flex">
      <h6>Freelancer</h6> 
      <label class="mx-3 switch">
        <input type="checkbox" [(ngModel)]="isFreelancer" (change)="addFreeLancer($event)">
        <span class="slider round"></span>
      </label>
    </div>
  </div>
  <mat-horizontal-stepper *ngIf="personalDetailsForm" [linear]="'false'" #stepper>
    <mat-step>
      <form [formGroup]="personalDetailsForm" novalidate>
        <ng-template matStepLabel>Personal Details</ng-template>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of personalDetails; let index = i">
              <label *ngIf="entry.id != 'ein' && entry.id != 'profileSummary'" class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <label *ngIf="entry.id == 'ein' && user.type == 'Recruiter'" class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <label
                *ngIf="entry.id == 'profileSummary' && user.type != 'Recruiter'"
                class="form-label"
                for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div class="input-group input-group-merge">
                <input
                  *ngIf="
                    entry.id != 'country' && entry.id != 'suffix' && entry.id != 'profileSummary' && entry.id != 'ein'
                  "
                  id="{{ entry.id }}"
                  type="{{ entry.type }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <input
                  *ngIf="entry.id == 'ein' && user.type == 'Recruiter'"
                  id="{{ entry.id }}"
                  type="{{ entry.type }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <mat-select
                  *ngIf="entry.id == 'suffix'"
                  formControlName="{{ entry.formControlName }}"
                  placeholder="{{ entry.placeholder }}"
                  class="form-control form-control-prepended"
                >
                  <mat-option *ngFor="let opt of suffixes" [value]="opt.code">
                    {{ opt.label }}
                  </mat-option>
                </mat-select>
                <mat-select
                  *ngIf="entry.id == 'country'"
                  formControlName="{{ entry.formControlName }}"
                  placeholder="{{ entry.placeholder }}"
                  class="form-control form-control-prepended"
                >
                  <mat-option *ngFor="let country of countries" [value]="country.code">
                    {{ country.title }}
                  </mat-option>
                </mat-select>
                <textarea
                  *ngIf="entry.id == 'profileSummary' && user.type != 'Recruiter'"
                  formControlName="{{ entry.formControlName }}"
                  placeholder="{{ entry.placeholder }}"
                  rows="7"
                  class="form-control form-control-prepended stylishSlimScroll"
                >
                </textarea>
                <div *ngIf="entry.id != 'ein' && entry.id != 'profileSummary'" class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
                <div *ngIf="entry.id == 'ein' && user.type == 'Recruiter'" class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
                <div *ngIf="entry.id == 'profileSummary' && user.type != 'Recruiter'" class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
              </div>
              <small
                *ngIf="entry.id == 'address1'"
                [hidden]="
                  personalDetailsForm.controls.addressLine1.valid || personalDetailsForm.controls.addressLine1.untouched
                "
                class="text-danger"
                translate
              >
                Address is required
              </small>
              <small
                *ngIf="entry.id == 'country'"
                [hidden]="personalDetailsForm.controls.country.valid || personalDetailsForm.controls.country.untouched"
                class="text-danger"
                translate
              >
                Country is required
              </small>
              <small
                *ngIf="entry.id == 'state'"
                [hidden]="personalDetailsForm.controls.state.valid || personalDetailsForm.controls.state.untouched"
                class="text-danger"
                translate
              >
                State is required
              </small>
              <small
                *ngIf="entry.id == 'city'"
                [hidden]="personalDetailsForm.controls.city.valid || personalDetailsForm.controls.city.untouched"
                class="text-danger"
                translate
              >
                City is required
              </small>
              <small
                *ngIf="entry.id == 'postalCode'"
                [hidden]="
                  personalDetailsForm.controls.postalCode.valid || personalDetailsForm.controls.postalCode.untouched
                "
                class="text-danger"
                translate
              >
                Postal Code is required
              </small>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="primary" matStepperNext class="rounded-pill ml-2">
              Next
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step label="Education Details" *ngIf="user.type != 'Recruiter'">
      <form [formGroup]="educationDetailsForm" novalidate>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div formArrayName="educationDetailsFA" class="ng-invalid-none">
            <div class="overflow-x-hidden stylishSlimScroll">
              <div
                class="pl-3 form-group ng-invalid-none"
                *ngFor="let arrEntry of fc(educationDetailsForm, 'educationDetailsFA'); let ef = index"
                [formGroupName]="ef"
              >
                <div *ngIf="ef == 0" class="col-12 text-right">
                  <button
                    color="primary"
                    mat-flat-button
                    class="rounded-pill ml-2"
                    matTooltip="Enter More Education"
                    matTooltipPosition="above"
                    (click)="addSection(educationDetailsForm, 'educationDetailsFA', 'education')"
                  >
                    <mat-icon>add</mat-icon> Enter More Education
                  </button>
                </div>
                <div class="pl-2 pr-2 pb-2 card p-3 animated fadeIn" [ngClass]="{ 'pt-5': ef == 0, 'pt-2': ef != 0 }">
                  <div class="form-group mb-2" *ngFor="let entry of educationDetails; let i = index">
                    <div *ngIf="ef != 0 && i == 0" class="col-12 text-right pr-0">
                      <button
                        color="primary"
                        mat-mini-fab
                        class="rounded-pill ml-2"
                        (click)="deleteSection(educationDetailsForm, 'educationDetailsFA', ef)"
                      >
                        <mat-icon>delete</mat-icon>
                      </button>
                    </div>
                    <div *ngIf="entry.id != 'degreeFromDate' && entry.id != 'degreeToDate'" class="d-flex">
                      <label class="form-label mt-2 px-0 col" for="{{ entry.id }}">
                        {{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup>
                      </label>
                    </div>
                    <div
                      *ngIf="
                        entry.id != 'college' &&
                        entry.id != 'university' &&
                        entry.id != 'minor' &&
                        entry.id != 'degreeFromDate' &&
                        entry.id != 'degreeToDate'
                      "
                      class="input-group input-group-merge"
                    >
                      <input
                        *ngIf="entry.id != 'certificates'"
                        id="{{ entry.id }}"
                        formControlName="{{ entry.formControlName }}"
                        class="form-control form-control-prepended"
                        placeholder="{{ entry.placeholder }}"
                      />
                      <input
                        *ngIf="entry.id == 'certificates'"
                        id="{{ entry.id }}"
                        formControlName="{{ entry.formControlName }}"
                        (click)="triggerUpload()"
                        class="form-control curPoint form-control-prepended"
                        placeholder="{{ entry.placeholder }}"
                        readonly
                      />
                      <input
                        *ngIf="entry.id == 'certificates'"
                        id="certificateUpload"
                        class="d-none"
                        #uploadCertificate
                        type="file"
                        (change)="uploadFile($event, ef)"
                      />
                      <div class="input-group-prepend">
                        <div class="input-group-text">
                          <span *ngIf="entry.id != 'certificates'" class="{{ entry.prepend }}"></span>
                          <span *ngIf="entry.id == 'certificates'" class="px-1 material-icons curPoint"
                            >cloud_upload</span
                          >
                        </div>
                      </div>
                    </div>
                    <div class="mt-1" *ngIf="entry.id == 'certificates'">
                      <p>
                        <strong>Supported File :</strong>
                        <span class="text-muted ml-2" *ngFor="let item of suportedFile">{{ item }}</span>
                      </p>
                    </div>
                    <div *ngIf="entry.id == 'degreeFromDate'" class="d-flex col-12 px-0 pt-2">
                      <div *ngFor="let record of educationDetails" class="">
                        <div
                          *ngIf="record.id == 'degreeFromDate' || record.id == 'degreeToDate'"
                          class="pl-0 col-12 input-group input-group-merge"
                          [class.pr-0]="record.id == 'degreeToDate'"
                        >
                          <label class="form-label pl-0 col-12" for="{{ record.id }}"
                            >{{ record.label }} <sup *ngIf="record.mandatory" class="text-danger">*</sup>
                          </label>
                          <br />
                          <input
                            id="{{ record.id }}"
                            formControlName="{{ record.formControlName }}"
                            class="form-control form-control-prepended"
                            type="{{ record.type }}"
                            placeholder="{{ record.placeholder }}"
                          />
                          <div class="input-group-prepend">
                            <div class="input-group-text">
                              <span class="{{ record.prepend }}"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <ng-container *ngIf="entry.id == 'college'" formArrayName="college">
                      <div
                        class="pb-1"
                        *ngFor="
                          let val of getFA(educationDetailsForm, 'educationDetailsFA', ef, 'college');
                          let v = index
                        "
                      >
                        <div class="d-flex">
                          <div class="input-group input-group-merge ng-invalid-none pl-0 pr-1 mt-1" [formGroupName]="v">
                            <input
                              id="{{ entry.id }}"
                              formControlName="name"
                              class="form-control form-control-prepended"
                              placeholder="{{ entry.placeholder }}"
                            />
                            <div class="input-group-prepend prependHeight">
                              <div class="input-group-text">
                                <span class="{{ entry.prepend }}"></span>
                              </div>
                            </div>
                          </div>
                          <button
                            *ngIf="v != 0"
                            color="primary"
                            mat-mini-fab
                            matTooltip="Remove College"
                            matTooltipPosition="above"
                            class="rounded-pill ml-2"
                            (click)="removeMore(educationDetailsForm, 'educationDetailsFA', ef, entry.id, v)"
                          >
                            <mat-icon>remove</mat-icon>
                          </button>
                          <button
                            *ngIf="v == 0"
                            color="primary"
                            mat-mini-fab
                            matTooltip="Add Another College"
                            matTooltipPosition="above"
                            class="rounded-pill ml-2 mb-1 addMoreBtn"
                            (click)="addMore(educationDetailsForm, 'educationDetailsFA', ef, entry.id)"
                          >
                            <mat-icon>add</mat-icon>
                          </button>
                        </div>
                        <small
                          [hidden]="
                            fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.college.controls[v].valid ||
                            fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.college.controls[v].untouched
                          "
                          class="text-danger"
                          translate
                        >
                          College is required
                        </small>
                      </div>
                    </ng-container>
                    <ng-container *ngIf="entry.id == 'university'" formArrayName="university">
                      <div
                        class="pb-1"
                        *ngFor="
                          let val of getFA(educationDetailsForm, 'educationDetailsFA', ef, 'university');
                          let u = index
                        "
                      >
                        <div class="d-flex">
                          <div class="input-group input-group-merge ng-invalid-none pl-0 pr-1 mt-1" [formGroupName]="u">
                            <input
                              id="{{ entry.id }}"
                              formControlName="name"
                              class="form-control form-control-prepended"
                              placeholder="{{ entry.placeholder }}"
                            />
                            <div class="input-group-prepend prependHeight">
                              <div class="input-group-text">
                                <span class="{{ entry.prepend }}"></span>
                              </div>
                            </div>
                          </div>
                          <button
                            *ngIf="u != 0"
                            color="primary"
                            mat-mini-fab
                            matTooltip="Remove University"
                            matTooltipPosition="above"
                            class="rounded-pill ml-2"
                            (click)="removeMore(educationDetailsForm, 'educationDetailsFA', ef, entry.id, u)"
                          >
                            <mat-icon>remove</mat-icon>
                          </button>
                          <button
                            *ngIf="u == 0"
                            color="primary"
                            mat-mini-fab
                            matTooltip="Add Another University"
                            matTooltipPosition="above"
                            class="rounded-pill ml-2 mb-1 addMoreBtn"
                            (click)="addMore(educationDetailsForm, 'educationDetailsFA', ef, entry.id)"
                          >
                            <mat-icon>add</mat-icon>
                          </button>
                        </div>
                        <small
                          [hidden]="
                            fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.university.controls[u].valid ||
                            fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.university.controls[u].untouched
                          "
                          class="text-danger"
                          translate
                        >
                          University is required
                        </small>
                      </div>
                    </ng-container>
                    <ng-container *ngIf="entry.id == 'minor'" formArrayName="minor">
                      <div
                        class="pb-1"
                        *ngFor="
                          let val of getFA(educationDetailsForm, 'educationDetailsFA', ef, 'minor');
                          let m = index
                        "
                      >
                        <div class="d-flex">
                          <div class="input-group input-group-merge ng-invalid-none pl-0 pr-1 mt-1" [formGroupName]="m">
                            <input
                              id="{{ entry.id }}"
                              formControlName="name"
                              class="form-control form-control-prepended"
                              placeholder="{{ entry.placeholder }}"
                            />
                            <div class="input-group-prepend prependHeight">
                              <div class="input-group-text">
                                <span class="{{ entry.prepend }}"></span>
                              </div>
                            </div>
                          </div>
                          <button
                            *ngIf="m != 0"
                            color="primary"
                            mat-mini-fab
                            matTooltip="Remove Minor"
                            matTooltipPosition="above"
                            class="rounded-pill ml-2"
                            (click)="removeMore(educationDetailsForm, 'educationDetailsFA', ef, entry.id, m)"
                          >
                            <mat-icon>remove</mat-icon>
                          </button>
                          <button
                            *ngIf="m == 0"
                            color="primary"
                            mat-mini-fab
                            matTooltip="Add Another Minor"
                            matTooltipPosition="above"
                            class="rounded-pill ml-2 mb-1 addMoreBtn"
                            (click)="addMore(educationDetailsForm, 'educationDetailsFA', ef, entry.id)"
                          >
                            <mat-icon>add</mat-icon>
                          </button>
                        </div>
                      </div>
                    </ng-container>
                    <small
                      *ngIf="entry.id == 'highestDegree'"
                      [hidden]="
                        fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.highestDegree.valid ||
                        fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.highestDegree.untouched
                      "
                      class="text-danger"
                      translate
                    >
                      Highest Degree is required
                    </small>
                    <small
                      *ngIf="entry.id == 'major'"
                      [hidden]="
                        fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.major.valid ||
                        fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.major.untouched
                      "
                      class="text-danger"
                      translate
                    >
                      Major is required
                    </small>
                    <small
                      *ngIf="entry.id == 'certificates'"
                      [hidden]="
                        fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.certificates.valid ||
                        fc(educationDetailsForm, 'educationDetailsFA')[ef].controls.certificates.untouched
                      "
                      class="text-danger"
                      translate
                    >
                      Certificates are required
                    </small>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
            <button mat-flat-button color="primary" matStepperNext class="rounded-pill ml-2">
              Next
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="user.type != 'Recruiter'">
      <form [formGroup]="experienceDetailsForm" novalidate>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div formArrayName="experienceDetailsFA" class="ng-invalid-none">
            <ng-template matStepLabel>Experience Details</ng-template>
            <div class="overflow-x-hidden stylishSlimScroll">
              <div
                class="pl-3 form-group ng-invalid-none"
                *ngFor="let arrEntry of fc(experienceDetailsForm, 'experienceDetailsFA'); let ef = index"
                [formGroupName]="ef"
              >
                <div *ngIf="ef == 0" class="col-12 text-right">
                  <button
                    color="primary"
                    mat-flat-button
                    class="rounded-pill ml-2"
                    matTooltip="Enter More Experience"
                    matTooltipPosition="above"
                    (click)="addSection(experienceDetailsForm, 'experienceDetailsFA', 'experience')"
                  >
                    <mat-icon>add</mat-icon> Enter More Experience
                  </button>
                </div>
                <div class="pl-2 pr-2 pb-2 card p-3 animated fadeIn" [ngClass]="{ 'pt-5': ef == 0, 'pt-2': ef != 0 }">
                  <div class="form-group" *ngFor="let entry of experienceDetails; let i = index">
                    <div *ngIf="ef != 0 && i == 0" class="col-12 text-right pr-0">
                      <button
                        color="primary"
                        mat-mini-fab
                        class="rounded-pill ml-2"
                        (click)="deleteSection(experienceDetailsForm, 'experienceDetailsFA', ef)"
                      >
                        <mat-icon>delete</mat-icon>
                      </button>
                    </div>
                    <label
                      *ngIf="entry.id != 'experienceTo' && entry.id != 'experienceFrom'"
                      class="form-label"
                      for="{{ entry.id }}"
                      >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
                    >
                    <div
                      *ngIf="entry.id != 'experienceTo' && entry.id != 'experienceFrom'"
                      class="input-group input-group-merge"
                    >
                      <input
                        id="{{ entry.id }}"
                        formControlName="{{ entry.formControlName }}"
                        class="form-control form-control-prepended"
                        placeholder="{{ entry.placeholder }}"
                      />
                      <div class="input-group-prepend">
                        <div class="input-group-text">
                          <span class="{{ entry.prepend }}"></span>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="entry.id == 'experienceTo'" class="d-flex col-12 px-0">
                      <div *ngFor="let record of experienceDetails" class="">
                        <div
                          *ngIf="record.id == 'experienceTo' || record.id == 'experienceFrom'"
                          class="pl-0 col-12 input-group input-group-merge"
                          [class.pr-0]="record.id == 'experienceTo'"
                        >
                          <label class="form-label pl-0 col-12" for="{{ record.id }}"
                            >{{ record.label }} <sup *ngIf="record.mandatory" class="text-danger">*</sup>
                          </label>
                          <br />
                          <input
                            id="{{ record.id }}"
                            formControlName="{{ record.formControlName }}"
                            class="form-control form-control-prepended"
                            type="{{ record.type }}"
                            placeholder="{{ record.placeholder }}"
                          />
                          <div
                            *ngIf="record.id == 'experienceTo' || record.id == 'experienceFrom'"
                            class="input-group-prepend"
                          >
                            <div class="input-group-text">
                              <span class="{{ record.prepend }}"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <small
                      *ngIf="entry.id == 'experience'"
                      [hidden]="
                        fc(experienceDetailsForm, 'experienceDetailsFA')[ef].controls.experience.valid ||
                        fc(experienceDetailsForm, 'experienceDetailsFA')[ef].controls.experience.untouched
                      "
                      class="text-danger"
                      translate
                    >
                      Experience is required
                    </small>
                    <small
                      *ngIf="entry.id == 'organization'"
                      [hidden]="
                        fc(experienceDetailsForm, 'experienceDetailsFA')[ef].controls.organization.valid ||
                        fc(experienceDetailsForm, 'experienceDetailsFA')[ef].controls.organization.untouched
                      "
                      class="text-danger"
                      translate
                    >
                      Organization is required
                    </small>
                    <small
                      *ngIf="entry.id == 'currentRole'"
                      [hidden]="
                        fc(experienceDetailsForm, 'experienceDetailsFA')[ef].controls.currentRole.valid ||
                        fc(experienceDetailsForm, 'experienceDetailsFA')[ef].controls.currentRole.untouched
                      "
                      class="text-danger"
                      translate
                    >
                      Current Role is required
                    </small>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
            <button mat-flat-button color="primary" matStepperNext class="rounded-pill ml-2">
              Next
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="user.type == 'Mentor'">
      <form [formGroup]="teachingExperienceForm" novalidate>
        <ng-template matStepLabel>Teaching Experience</ng-template>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of teachingExperienceDetails; let index = i">
              <label class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div class="input-group input-group-merge">
                <input
                  id="{{ entry.id }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
                <small
                  *ngIf="entry.id == 'teachingExperience'"
                  [hidden]="
                    teachingExperienceForm.controls.teachingExperience.valid ||
                    teachingExperienceForm.controls.teachingExperience.untouched
                  "
                  class="text-danger"
                  translate
                >
                  Teaching Experience is required
                </small>
              </div>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
            <button mat-flat-button color="primary" matStepperNext class="rounded-pill ml-2">
              Next
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="user.type != 'Recruiter'">
      <form [formGroup]="careerPreferenceDetailsForm" novalidate>
        <ng-template matStepLabel>Career Preference Details</ng-template>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of careerPreferenceDetails; let index = i">
              <label class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div *ngIf="entry.id == 'careerGoals'" class="input-group input-group-merge">
                <input
                  id="{{ entry.id }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
              </div>
              <ng-container *ngIf="entry.id == 'areaOfPreference'" formArrayName="areaOfPreference">
                <div
                  class="pb-1"
                  *ngFor="let pref of getF(careerPreferenceDetailsForm, 'areaOfPreference'); let v = index"
                >
                  <div class="d-flex">
                    <div class="input-group input-group-merge ng-invalid-none pl-0 pr-1 mt-1" [formGroupName]="v">
                      <input
                        id="{{ entry.id }}"
                        formControlName="name"
                        class="form-control form-control-prepended"
                        placeholder="{{ entry.placeholder }}"
                      />
                      <div class="input-group-prepend prependHeight">
                        <div class="input-group-text">
                          <span class="{{ entry.prepend }}"></span>
                        </div>
                      </div>
                    </div>
                    <button
                      *ngIf="v != 0"
                      color="primary"
                      mat-mini-fab
                      matTooltip="Remove Area Of Preference"
                      matTooltipPosition="above"
                      class="rounded-pill ml-2"
                      (click)="deleteSection(careerPreferenceDetailsForm, 'areaOfPreference', v)"
                    >
                      <mat-icon>remove</mat-icon>
                    </button>
                    <button
                      *ngIf="v == 0"
                      color="primary"
                      mat-mini-fab
                      matTooltip="Add Another Area Of Preference"
                      matTooltipPosition="above"
                      class="rounded-pill ml-2 mb-1 addMoreBtn"
                      (click)="addMore(careerPreferenceDetailsForm, 'areaOfPreference', null, entry.id)"
                    >
                      <mat-icon>add</mat-icon>
                    </button>
                  </div>
                  <small
                    [hidden]="
                      getF(careerPreferenceDetailsForm, 'areaOfPreference')[v].valid ||
                      getF(careerPreferenceDetailsForm, 'areaOfPreference')[v].untouched
                    "
                    class="text-danger"
                    translate
                  >
                    Area Of Preference is required
                  </small>
                </div>
              </ng-container>
              <ng-container *ngIf="entry.id == 'preferredRole'" formArrayName="preferredRole">
                <div
                  class="pb-1"
                  *ngFor="let pref of getF(careerPreferenceDetailsForm, 'preferredRole'); let v = index"
                >
                  <div class="d-flex">
                    <div class="input-group input-group-merge ng-invalid-none pl-0 pr-1 mt-1" [formGroupName]="v">
                      <input
                        id="{{ entry.id }}"
                        formControlName="name"
                        class="form-control form-control-prepended"
                        placeholder="{{ entry.placeholder }}"
                      />
                      <div class="input-group-prepend prependHeight">
                        <div class="input-group-text">
                          <span class="{{ entry.prepend }}"></span>
                        </div>
                      </div>
                    </div>
                    <button
                      *ngIf="v != 0"
                      color="primary"
                      mat-mini-fab
                      matTooltip="Remove Area Of Preference"
                      matTooltipPosition="above"
                      class="rounded-pill ml-2"
                      (click)="deleteSection(careerPreferenceDetailsForm, 'preferredRole', v)"
                    >
                      <mat-icon>remove</mat-icon>
                    </button>
                    <button
                      *ngIf="v == 0"
                      color="primary"
                      mat-mini-fab
                      matTooltip="Add Another Area Of Preference"
                      matTooltipPosition="above"
                      class="rounded-pill ml-2 mb-1 addMoreBtn"
                      (click)="addMore(careerPreferenceDetailsForm, 'preferredRole', null, entry.id)"
                    >
                      <mat-icon>add</mat-icon>
                    </button>
                  </div>
                  <small
                    [hidden]="
                      getF(careerPreferenceDetailsForm, 'preferredRole')[v].valid ||
                      getF(careerPreferenceDetailsForm, 'preferredRole')[v].untouched
                    "
                    class="text-danger"
                    translate
                  >
                    Preferred Role is required
                  </small>
                </div>
              </ng-container>
              <small
                *ngIf="entry.id == 'careerGoals'"
                [hidden]="
                  careerPreferenceDetailsForm.controls.careerGoals.valid ||
                  careerPreferenceDetailsForm.controls.careerGoals.untouched
                "
                class="text-danger"
                translate
              >
                Career Goal is required
              </small>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="user.type == 'Recruiter'">
      <form [formGroup]="organizationDetailsForm" novalidate>
        <ng-template matStepLabel>Organization Details</ng-template>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of organizationDetails; let index = i">
              <label class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div class="input-group input-group-merge">
                <ng-container *ngIf="entry.formControlName == 'organizationName'">
                  <mat-select
                    formControlName="{{ entry.formControlName }}"
                    placeholder="Your Organization"
                    required
                    class="form-control form-control-prepended"
                  >
                    <mat-option
                      *ngFor="let item of organisationList"
                      (click)="onOrgChange(item)"
                      [value]="item.orgName"
                    >
                      {{ item.orgName }}
                    </mat-option>
                  </mat-select>
                </ng-container>

                <ng-container *ngIf="entry.formControlName != 'organizationName'">
                  <input
                    id="{{ entry.id }}"
                    type="{{ entry.type }}"
                    formControlName="{{ entry.formControlName }}"
                    class="form-control form-control-prepended"
                    placeholder="{{ entry.placeholder }}"
                  />
                </ng-container>

                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
              </div>
              <small
                *ngIf="entry.id == 'organizationName'"
                [hidden]="
                  organizationDetailsForm.controls.organizationName.valid ||
                  organizationDetailsForm.controls.organizationName.untouched
                "
                class="text-danger"
                translate
              >
                Organization Name is required
              </small>
              <small
                *ngIf="entry.id == 'location'"
                [hidden]="
                  organizationDetailsForm.controls.location.valid || organizationDetailsForm.controls.location.untouched
                "
                class="text-danger"
                translate
              >
                Location is required
              </small>
              <small
                *ngIf="entry.id == 'description'"
                [hidden]="
                  organizationDetailsForm.controls.description.valid ||
                  organizationDetailsForm.controls.description.untouched
                "
                class="text-danger"
                translate
              >
                Description is required
              </small>
              <small
                *ngIf="entry.id == 'about'"
                [hidden]="
                  organizationDetailsForm.controls.about.valid || organizationDetailsForm.controls.about.untouched
                "
                class="text-danger"
                translate
              >
                About is required
              </small>
              <small
                *ngIf="entry.id == 'noEmp'"
                [hidden]="
                  organizationDetailsForm.controls.noEmp.valid || organizationDetailsForm.controls.noEmp.untouched
                "
                class="text-danger"
                translate
              >
                No of Employee is required
              </small>
              <small
                *ngIf="entry.id == 'industry'"
                [hidden]="
                  organizationDetailsForm.controls.industry.valid || organizationDetailsForm.controls.industry.untouched
                "
                class="text-danger"
                translate
              >
                Industry is required
              </small>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
            <button mat-flat-button color="primary" matStepperNext class="rounded-pill ml-2">
              Next
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="user.type == 'Recruiter'">
      <form [formGroup]="careerOpeningDetailsForm" novalidate>
        <ng-template matStepLabel>Career Opening Details</ng-template>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of careerOpeningDetails; let index = i">
              <label class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div class="input-group input-group-merge">
                <input
                  id="{{ entry.id }}"
                  type="{{ entry.type }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
            <button mat-flat-button color="primary" matStepperNext class="rounded-pill ml-2">
              Next
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="user.type == 'Recruiter'">
      <form [formGroup]="socialDetailsForm" novalidate>
        <ng-template matStepLabel>Social Details</ng-template>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of socialDetails; let index = i">
              <label class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div class="input-group input-group-merge">
                <input
                  id="{{ entry.id }}"
                  type="{{ entry.type }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
              </div>
              <small
                *ngIf="entry.id == 'contactNo'"
                [hidden]="socialDetailsForm.controls.contactNo.valid || socialDetailsForm.controls.contactNo.untouched"
                class="text-danger"
                translate
              >
                Contact Number is required
              </small>
              <small
                *ngIf="entry.id == 'contactEmail'"
                [hidden]="
                  socialDetailsForm.controls.contactEmail.valid || socialDetailsForm.controls.contactEmail.untouched
                "
                class="text-danger"
                translate
              >
                Contact Email is required
              </small>
              <small
                *ngIf="entry.id == 'website'"
                [hidden]="socialDetailsForm.controls.website.valid || socialDetailsForm.controls.website.untouched"
                class="text-danger"
                translate
              >
                Website is required
              </small>
              <small
                *ngIf="entry.id == 'linkedin'"
                [hidden]="socialDetailsForm.controls.linkedin.valid || socialDetailsForm.controls.linkedin.untouched"
                class="text-danger"
                translate
              >
                Linkedin is required
              </small>
              <small
                *ngIf="entry.id == 'twitter'"
                [hidden]="socialDetailsForm.controls.twitter.valid || socialDetailsForm.controls.twitter.untouched"
                class="text-danger"
                translate
              >
                Twitter is required
              </small>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step *ngIf="isFreelancer" label="Freelancing Details">
      <form [formGroup]="freeLancingDetailsForm" novalidate>
        <div class="pt-5 pl-2 pr-2 pb-2 card p-3 animated fadeIn">
          <div class="px-3 max-vertical-h-50 overflow-x-hidden stylishSlimScroll">
            <div class="form-group" *ngFor="let entry of freelancingDetails; let i = index">
              <label *ngIf="entry.id != 'pastGigs'" class="form-label" for="{{ entry.id }}"
                >{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label
              >
              <div *ngIf="entry.id != 'fieldsOfExpertise' && entry.id != 'pastGigs' && entry.id != 'clients'" class="input-group input-group-merge">
                <input
                  id="{{ entry.id }}"
                  type="{{ entry.type }}"
                  formControlName="{{ entry.formControlName }}"
                  class="form-control form-control-prepended"
                  placeholder="{{ entry.placeholder }}"
                />
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <span class="{{ entry.prepend }}"></span>
                  </div>
                </div>
              </div>
              <ng-container *ngIf="entry.id == 'pastGigs'">
                <div formArrayName="pastGigs" class="ng-invalid-none">
                  <div class="overflow-x-hidden stylishSlimScroll">
                    <div class="form-group ng-invalid-none" *ngFor="let arrEntry of fc(freeLancingDetailsForm, entry.id); let ef = index" [formGroupName]="ef">
                      <div class="d-flex" *ngIf="ef == 0">
                        <label class="pl-0 col form-label" for="{{ entry.id }}">{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label>
                        <div class="text-right">
                          <button
                            color="primary"
                            mat-flat-button
                            class="rounded-pill ml-2"
                            matTooltip="Enter More Education"
                            matTooltipPosition="above"
                            (click)="addSection(freeLancingDetailsForm, entry.id, entry.id)">
                            <mat-icon>add</mat-icon> Enter More Past Gigs
                          </button>   
                        </div>
                      </div>
                      <div class="pl-2 pr-2 pb-2 card p-3 animated fadeIn mx-0">
                        <div class="form-group mb-2" *ngFor="let entry of pastGigsDetails; let pg = index">
                          <div *ngIf="ef != 0 && pg == 0" class="col-12 text-right pr-0">
                            <button
                              color="primary"
                              mat-mini-fab
                              class="rounded-pill ml-2"
                              (click)="deleteSection(freeLancingDetailsForm, 'pastGigs', ef)">
                              <mat-icon>delete</mat-icon>
                            </button> 
                          </div>
                          <label class="form-label" for="{{ entry.id }}">{{ entry.label }} <sup *ngIf="entry.mandatory" class="text-danger">*</sup></label>
                          <div class="input-group input-group-merge">
                            <input
                              id="{{ entry.id }}"
                              type="{{ entry.type }}"
                              formControlName="{{ entry.formControlName }}"
                              class="form-control form-control-prepended"
                              placeholder="{{ entry.placeholder }}"
                            />
                            <div class="input-group-prepend">
                              <div class="input-group-text">
                                <span class="{{ entry.prepend }}"></span>
                              </div>
                            </div>
                          </div>
                          <!-- <small
                            [hidden]="
                              fc(freeLancingDetailsForm, entry.id)[v].valid || fc(freeLancingDetailsForm, entry.id)[v].untouched
                            "
                            class="text-danger"
                            translate
                          >
                           {{ entry.label }} is required
                          </small> -->
                        </div> 
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>  
              <ng-container *ngIf="entry.id == 'fieldsOfExpertise' || entry.id == 'clients'" formArrayName="{{entry.id}}">
                <div class="pb-1" *ngFor="let val of getF(freeLancingDetailsForm, entry.id); let v = index">
                  <div class="d-flex">
                    <div
                      class="input-group input-group-merge ng-invalid-none pl-0 pr-1 mt-1"
                      [formGroupName]="v"
                    >
                      <input
                        id="{{ entry.id }}"
                        formControlName="name"
                        class="form-control form-control-prepended"
                        placeholder="{{ entry.placeholder }}"
                      />
                      <div class="input-group-prepend prependHeight">
                        <div class="input-group-text">
                          <span class="{{ entry.prepend }}"></span>
                        </div>
                      </div>
                    </div>
                    <button
                      *ngIf="v != 0"
                      color="primary"
                      mat-mini-fab
                      matTooltip="Remove College"
                      matTooltipPosition="above"
                      class="rounded-pill ml-2"
                      (click)="deleteSection(freeLancingDetailsForm, entry.id, v)">
                      <mat-icon>remove</mat-icon>
                    </button>
                     <button
                      *ngIf="v == 0"
                      color="primary"
                      mat-mini-fab
                      matTooltip="Add Another College"
                      matTooltipPosition="above"
                      class="rounded-pill ml-2 mb-1 addMoreBtn"
                      (click)="addMore(freeLancingDetailsForm, entry.id, i, entry.id)">
                      <mat-icon>add</mat-icon>
                    </button>
                  </div>
                  <small
                    [hidden]="
                      fc(freeLancingDetailsForm, entry.id)[v].valid || fc(freeLancingDetailsForm, entry.id)[v].untouched
                    "
                    class="text-danger"
                    translate
                  >
                   {{ entry.label }} is required
                  </small>
                </div>  
              </ng-container>
            </div>
          </div>
          <div class="text-center">
            <button mat-flat-button color="default" matStepperPrevious class="rounded-pill ml-2 bg-theme">
              Back
            </button>
          </div>
        </div>
      </form>
    </mat-step>
  </mat-horizontal-stepper>
  <div *ngIf="showMandatoryMessage" class="text-danger text-center">
    <h5>Please fill out all the mandatory fields (*) before updating.</h5>
  </div>
  <div class="text-center mb-2">
    <button
      *ngIf="user.type != 'Mentor' && user.type != 'Recruiter'"
      mat-flat-button
      color="primary"
      (click)="submitDetails('Mentee')"
      class="rounded-pill ml-2"
    >
      Update
    </button>
    <button
      *ngIf="user.type == 'Mentor'"
      mat-flat-button
      color="primary"
      (click)="submitDetails('Mentor')"
      class="rounded-pill ml-2"
    >
      Update
    </button>
    <button
      *ngIf="user.type == 'Recruiter'"
      mat-flat-button
      color="primary"
      (click)="submitDetails('Recruiter')"
      class="rounded-pill ml-2"
    >
      Update
    </button>
  </div>
</div>
