<div class="recruiter-jobs-wrapper">
  <div class="container">
    <ol class="breadcrumb mt-3">
      <li class="breadcrumb-item curPoint"><a [routerLink]="['/home']">Home</a></li>
      <li class="breadcrumb-item active"><a>All Jobs</a></li>
    </ol>
    <div class="sec-title">
      <div class="title">Posted Jobs</div>
    </div>
    <section>
      <div class="upload-box text-center">
        <div class="supportedFormatCarousel d-block mb-3 mx-auto w50">
          <button mat-flat-button color="primary" (click)="addJob()" class="rounded-pill ml-2">
            <span class="material-icons pr-2">
              add
            </span>
            ADD
          </button>
        </div>
      </div>
    </section>
    <section class="All-course-page-section min-vertical-h-100">
      <div class="row no-gutters">
        <ng-container *ngIf="isLoading">
          <div class="col-12 animated fadeIn" *ngFor="let item of [1, 2, 3, 4, 5]">
            <div class="card" style="height: 100px;">
              <div class="card-img skeleton">
                <!-- waiting for img to load from javascript -->
              </div>
              <div class="card-body">
                <h2 class="card-title skeleton">
                  <!-- wating for title to load from javascript -->
                </h2>
                <p class="card-intro skeleton">
                  <!-- waiting for intro to load from Javascript -->
                </p>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
      <ng-container *ngIf="!isLoading && allJobs.length">
        <div class="row" id="jobsArea">
          <div
            class="col-12 animated fadeIn mb-4 w100"
            id="jobPanel-{{ i }}"
            *ngFor="let course of allJobs; let i = index"
          >
            <mat-accordion multi>
              <mat-expansion-panel class="jobs-panel" [expanded]="i == 0">
                <mat-expansion-panel-header class="d-flex align-items-center">
                  <mat-panel-title class="pt-3">
                    <h6 class="text-primary mt-2">{{ course.title }}</h6>
                    <button
                      mat-mini-fab
                      color="primary"
                      matTooltipPosition="below"
                      matTooltip="Applicants"
                      *ngIf="course.applicants.length"
                      class="ml-2"
                      [matBadge]="course.applicants.length"
                      matBadgePosition="after"
                      matBadgeColor="accent"
                      (click)="showApplicants(course, $event)"
                    >
                      <span class="material-icons">
                        supervisor_account
                      </span>
                    </button>
                  </mat-panel-title>
                  <mat-panel-description>
                    <div class="text-right mr-2 pt-3">
                      <span class="card-intro pr-1 p-1" *ngFor="let item of course.tags"
                        ><badge class="badge badge-info">{{ item }}</badge></span
                      >
                    </div>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div class="mt-4">
                  <div class="row">
                    <div class="col-12 col-md-6">
                      <mat-form-field class="pb-2 w100">
                        <mat-label>Name</mat-label>
                        <input matInput placeholder="Ex. Frontend Developer" value="" [(ngModel)]="course.title" />
                      </mat-form-field>
                    </div>
                    <div class="col-12 col-md-6">
                      <mat-form-field class="pb-2 w100">
                        <mat-label>Created By</mat-label>
                        <input
                          matInput
                          [disabled]="true"
                          placeholder="Ex. Adam"
                          value=""
                          [(ngModel)]="course.createdBy"
                        />
                      </mat-form-field>
                    </div>
                    <div class="col-12 col-md-6">
                      <mat-form-field class="pb-2 w100">
                        <mat-select placeholder="Job Location" [(ngModel)]="course.location">
                          <mat-option *ngFor="let country of countries" [value]="country.title">
                            {{ country.title }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-12 col-md-6">
                      <mat-form-field class="pb-2 w100">
                        <mat-select placeholder="Job Status" [(ngModel)]="course.status">
                          <mat-option [value]="'Active'">
                            Active
                          </mat-option>
                          <mat-option [value]="'Inactive'">
                            Inactive
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-12">
                      <mat-form-field class="pb-2 w100">
                        <mat-label>Description</mat-label>
                        <textarea matInput placeholder="Job Description" [(ngModel)]="course.description"></textarea>
                      </mat-form-field>
                    </div>
                    <div class="col-12">
                      <mat-form-field class="example-chip-list pb-2 w100">
                        <mat-chip-list #chipList aria-label="Fruit selection">
                          <mat-chip
                            *ngFor="let item of course.tags; let tagIndex = index"
                            [selectable]="selectable"
                            [removable]="removable"
                            (removed)="remove(course, tagIndex)"
                          >
                            {{ item }}
                            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                          </mat-chip>
                          <input
                            placeholder="Tags"
                            [matChipInputFor]="chipList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="addOnBlur"
                            (matChipInputTokenEnd)="add($event, course)"
                          />
                        </mat-chip-list>
                      </mat-form-field>
                    </div>

                    <div class="col-12">
                      <div class="w100 p-2">
                        <div class="text-center">
                          <button
                            mat-flat-button
                            color="primary"
                            *ngIf="course.id == ''"
                            (click)="createJob(course)"
                            class="rounded-pill ml-2"
                          >
                            Save
                          </button>
                          <button
                            mat-flat-button
                            color="primary"
                            *ngIf="course.id != ''"
                            (click)="updateJob(course)"
                            class="rounded-pill ml-2"
                          >
                            Update
                          </button>
                          <button
                            mat-mini-fab
                            color="primary"
                            matTooltipPosition="below"
                            matTooltip="Delete"
                            (click)="deleteJob(course, i)"
                            class="ml-2"
                          >
                            <mat-icon>delete</mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- <mat-form-field>
                    <mat-label>First name</mat-label>
                    <input matInput />
                  </mat-form-field>

                  <mat-form-field>
                    <mat-label>Age</mat-label>
                    <input matInput type="number" min="1" />
                  </mat-form-field> -->
              </mat-expansion-panel>
            </mat-accordion>

            <!-- <div class="card curPoint">
                <div class="card-body pl-3 pr-3">
                  <h5 class="card-title">
                    {{ course.title }}
                  </h5>
                  <p class="card-intro">
                    {{ course.description }}
                  </p>
                  <span class="card-intro pr-1 p-1" *ngFor="let item of course.tags"
                    ><badge class="badge badge-info">{{ item }}</badge></span
                  >
                </div>
              </div> -->
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="!isLoading && allJobs.length == 0">
        <div class="text-center m-auto animated fadeIn">
          <div class="col-12 min-vertical-h-90 max-vertical-h-90 flow-hidden text-center">
            <img src="../../../assets/images/NoRecordFound.png" class="img-fluid d-block mx-auto w100 mt-5" />

            <!-- <button mat-flat-button color="primary" (click)="removeFilter()" class="rounded-pill ml-2">
              Remove All Filters
            </button> -->
          </div>
        </div>
      </ng-container>
    </section>
  </div>
</div>
